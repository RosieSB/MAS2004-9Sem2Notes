Traceback (most recent call last):
  File "/home/sm1rjb/MAS2004,9/Jupyter Lecture Notes/.venv/lib/python3.12/site-packages/jupyter_cache/executors/utils.py", line 58, in single_nb_execution
    executenb(
  File "/home/sm1rjb/MAS2004,9/Jupyter Lecture Notes/.venv/lib/python3.12/site-packages/nbclient/client.py", line 1314, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sm1rjb/MAS2004,9/Jupyter Lecture Notes/.venv/lib/python3.12/site-packages/jupyter_core/utils/__init__.py", line 165, in wrapped
    return loop.run_until_complete(inner)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sm1rjb/.config/jupyterlab-desktop/jlab_server/lib/python3.12/asyncio/base_events.py", line 687, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/home/sm1rjb/MAS2004,9/Jupyter Lecture Notes/.venv/lib/python3.12/site-packages/nbclient/client.py", line 709, in async_execute
    await self.async_execute_cell(
  File "/home/sm1rjb/MAS2004,9/Jupyter Lecture Notes/.venv/lib/python3.12/site-packages/nbclient/client.py", line 1062, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "/home/sm1rjb/MAS2004,9/Jupyter Lecture Notes/.venv/lib/python3.12/site-packages/nbclient/client.py", line 918, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------

![](figs/(x-5),((x2-25)(x-3)).png)
Figure 1: Graph of $f(x) = \displaystyle\frac{x - 5}{(x^{2} - 25)(x - 3)}$


Let's write $X=\mathbb{R}\setminus\{-5, 3, 5\}$, the domain of $f$. Note that every real number is a limit point of $X$. However, the most interesting limit points to consider are those that lie outside of $X$. This is because it is fairly easy to calculate limits at points in $X$. For example,

$$
\lim_{x \rightarrow 1}f(x) = -\frac{1}{12}=f(1).
$$

(Check this carefully, using the definition).

More generally, in this example, if you take the limit at a point $a \in X$, you always find that

$$
\lim_{x\rightarrow a} f(x) = f(a).
$$

This tells us that the function $f$ is *continuous* at these points. We will discuss the concept of continuity in more detail in Chapter [chap:cty](#chap:cty).

The more interesting problem is to find out what happens at points that are not in $X$. Observe that

$$
f(x) = \frac{1}{(x+5)(x-3)}, \qquad \text{for all $x \in X$.}
$$

- To investigate the point $x = 5$:<br>
Choose an arbitrary sequence $(x_{n})$ with $x_{n} \in X$ satisfying $\lim_{n \rightarrow \infty}x_{n} = 5$. Note that such sequences certainly exist, for example
$$
(x_{n} = 5 + \frac{1}{n}), (x_n=5 + 7/n^{2}), (x_n=5 - 108/n^{4})...).
$$
Then $f(x_{n}) = \displaystyle\frac{1}{(x_{n}+5)(x_{n}-3)}$ and $\displaystyle\lim_{n \rightarrow \infty}f(x_{n}) = \displaystyle\frac{1}{10.2} = \displaystyle\frac{1}{20}$, by the algebra of limits. So we conclude that
$$
\lim_{x \rightarrow 5}f(x) = \frac{1}{20}.
$$
Thus the limit exists at the point $x = 5$, even though $5$ is not in the domain of $f$.
- To investigate the point $x = -5$:<br>
In this case, numerical experiments or considering the graph of the function may lead you to doubt that a limit exists. So consider the sequence $(y_{n})$, where $y_{n} = -5 + \frac{1}{n}$, for each $n\in\mathbb{N}$. Then $\lim_{n \rightarrow \infty}y_{n} = -5$, and we find that
$$
f(y_{n}) = \frac{1}{\frac{1}{n}\left(\frac{1}{n} - 8\right)} = \frac{n}{\frac{1}{n} - 8},
$$
and so $(f(y_{n}))$ diverges to $-\infty$. So we've found a sequence $(y_{n})$ such that (i) and (ii) of the definition are satisfied, but $(f(y_{n}))$ diverges. Hence we conclude that $f$ has no limit at $x = -5$.
- To investigate the point $x = 3$: <br>
This is left as  an exercise. Again, $f$ has no limit at $x = 3$.

We note here that the function $f$ is not continuous at the points $a = -5, 3$ or $5$; indeed $f(a)$ is not defined when $a$ takes these values. We can *extend* $f$ to be a continuous function at $a=5$ by setting
$f(5)=\frac{1}{20}$. On the other hand, at $a=-5$ and at $a=3$, there is no value we could assign for $f(a)$
that would extend $f$ to a continuous function there.  We will return to all these issues of continuity in Chapter [chap:cty](#chap:cty).
\end{sol}

\begin{thm}  [Algebra of limits]
Suppose that $f:A \rightarrow \mathbb{R}$, $g :B \rightarrow \mathbb{R}$, and $a \in \mathbb{R}$ is such that $\lim_{x\rightarrow a} f(x) = l$ and $\lim_{x\rightarrow a} g(x) = m$, then

[(i)]1. $\displaystyle\lim_{x\rightarrow a} (f + g)(x) = l + m$,
2. $\displaystyle\lim_{x\rightarrow a} (fg)(x) = lm$,
3. $\displaystyle\lim_{x\rightarrow a} (\alpha f)(x) = \alpha l$, for all $\alpha \in \mathbb{R}$,
4. $\displaystyle\lim_{x\rightarrow a} \left(\displaystyle\frac{f}{g}\right)(x) = \displaystyle\frac{l}{m}$, if $m \neq 0$.

\end{thm}

*Proof.* These all follow from the algebra of limits for sequences. For example, for (i), if $(x_{n})$ is an arbitrary sequence in $A\cap B$ with $x_n\neq a$ for all $n\in\mathbb{N}$ such that $(x_n)$ that converges to $a$, then

$$
\begin{align*} 
\lim_{n\rightarrow\infty} (f + g)(x_{n}) &= \lim_{n\rightarrow\infty} (f(x_{n}) + g(x_{n})) \\
&= \lim_{n\rightarrow\infty} f(x_{n}) + \lim_{n\rightarrow\infty} g(x_{n})\\
&= l + m, 
\end{align*}
$$
as required.
Here the first line uses the definition of a sum of functions and the second line uses algebra of limits (for real sequences). $\square$


From a geometric perspective, the idea of a limit is that as $x$ gets closer and closer to $a$, so $f(x)$ should get closer and closer to $l$. More insight to this is given by the following theorem, which establishes the important $(\varepsilon-\delta)$ criterion for existence of limits.

\begin{thm} Let  $f:X \rightarrow \mathbb{R}$, let $a\in\mathbb{R}$ be a limit point of $X$, and let $l\in\mathbb{R}$. The following are equivalent:

[(i)]1. $\lim_{x\rightarrow a} f(x) = l$.
2. the  $(\varepsilon-\delta)$ criterion:
$$
\begin{quote}
Given any $\varepsilon>0$ there exists $\delta > 0$ such that whenever $x \in X$ with $0 < |x - a| < \delta$, then $|f(x) - l| < \varepsilon$.
\end{quote}
$$

\end{thm}

\begin{rmk}
The $(\varepsilon-\delta)$ criterion is also frequently expressed in terms of quantifiers:

$\forall\varepsilon>0$, $\exists\delta>0$ s.t.~$\forall x\in X$, $0<|x-a|<\delta \; \mathbb{R}ightarrow \;|f(x)-l|<\varepsilon$.

Take some time to compare these two statements and check they are saying the same thing.
\end{rmk}

*Proof.* [Proof of Theorem [2](#ed)]
First assume that the $(\varepsilon-\delta)$ criterion holds and suppose $\varepsilon > 0$. So there exists $\delta > 0$ such that for all $x \in X$,

$$
0<|x - a| < \delta, \text{ implies } |f(x) - l| < \varepsilon.
$$

Let $(x_{n})$ be an arbitrary sequence in $X\setminus\{a\}$ with limit $a$. Then since $x_n\rightarrow a$, there exists $N\in\mathbb{N}$, such that  $0<|x_{n} - a| < \delta$ for all $n\geq N$. But then, for all $n \geq N$, we have $|f(x_{n}) - l| < \varepsilon$, and so $\lim_{x\rightarrow a} f(x) = l$, as was required. We have established that $(i)\mathbb{R}ightarrow(ii)$.

Now we must establish the converse, namely if $f$ has limit $l$ at $a$, then the $\varepsilon-\delta$ criterion follows. In fact, we seek a proof by contrapositive^[That is,  we use the fact that if $P$ and $Q$ are propositions, then $P \mathbb{R}ightarrow Q$ if and only if $\neg Q \mathbb{R}ightarrow \neg P$.], so we will assume that the $\varepsilon-\delta$ criterion fails, and then show that $f$ cannot have  limit $l$ at $a$.

If the $(\varepsilon-\delta)$ criterion fails, then there exists $\varepsilon>0$ such that for all $\delta > 0$, there exists $x \in X$ with $0 < |x - a| < \delta$, but $|f(x) - l| \geq \varepsilon$.

Now for this $\varepsilon>0$, choose successively $\delta = 1, \frac{1}{2}, \frac{1}{3}, \ldots$ and construct a sequence $(x_{n})$ as follows:

$x_{1} \in X$ satisfies $0<|x_{1} - a| < 1$ and $|f(x_{1}) - l| \geq \varepsilon$.
$x_{2} \in X$ satisfies $0<|x_{2} - a| < \frac{1}{2}$ and $|f(x_{2}) - l| \geq \varepsilon$.
$\vdots$
$x_{n} \in X$ satisfies $0<|x_{n} - a| < \frac{1}{n}$ and $|f(x_{n}) - l| \geq \varepsilon$.

Then $(x_n)$ is a sequence in $X\setminus\{a\}$ and by the sandwich rule, we have $\lim_{n\rightarrow\infty} x_{n} = a$. Also, by the above construction the sequence $(f(x_{n}))$ does not converge to $l$.

So we have shown that if the $(\varepsilon-\delta)$ criterion fails, then the function $f$ does not have limit $l$ at $a$. It follows that $(ii)\mathbb{R}ightarrow(i)$. $\square$


$$
\begin{thm} [Sandwich rule for functions]
Suppose that $f:A\to\mathbb{R}$,  $g:B\to\mathbb{R}$ and $h :C\to \mathbb{R}$ and suppose that there exists an interval $(a, b) \subseteq A\cap B\cap C$ such that for all $x \in (a, b)$
	\begin{equation}\label{eq:sw1}
	f(x) \leq g(x) \leq h(x).
	\end{equation}
If for some $c \in (a, b)$ and $l\in\mathbb{R}$ we have
	\begin{equation}\label{eq:sw2}
	\lim_{x \rightarrow c}f(x) = \lim_{x \rightarrow c}h(x) = l,
	\end{equation}
then $\displaystyle\lim_{x \rightarrow c}g(x)$ exists and is equal to $l$.
\end{thm}
$$

*Proof.* Let $(x_{n})$ be an arbitrary sequence that converges to $c$. 
Note that by taking $N \in \mathbb{N}$ sufficiently large, we can ensure that $x_{n} \in (a, b)$ for all $n\geq N$. Define sequences $(a_n)$, $(b_n)$ and $(c_n)$ by

$$
a_{n} = f(x_{n + N}), \hspace{1em} b_{n} = g(x_{n + N}), \hspace{1em} \text{and} c_{n} = h(x_{n + N}),
$$

for all $n\in\mathbb{N}$. By ([eq:sw1](#eq:sw1)), for all $n\in\mathbb{N}$,

$$
a_n \leq b_n \leq c_n, \hspace{2em}
$$

and by  ([eq:sw2](#eq:sw2)), $\displaystyle\lim_{n\rightarrow\infty}a_n = \lim_{n\rightarrow\infty}c_n = l$. Hence by the sandwich rule for sequences,

$$
\lim_{n\rightarrow \infty}c_n = \lim_{n\rightarrow \infty} g(x_n)= l,
$$

and we have established that $\displaystyle\lim_{x \rightarrow c}g(x)$ exists and is equal to $l$. $\square$


## 1.3. Divergence

In the same setting as Definition~[2](#def:functionlimit), we say that a function $f:X \rightarrow \mathbb{R}$ *diverges* at $x=a$ if $\lim_{x\rightarrow a} f(x)$ does not exist. There are some interesting types of behaviour involved here. For example, we say that the function $f$ *diverges to infinity* at $x = a$ and we write $\lim_{x\rightarrow a} f(x) = \infty$ if for every sequence $(x_{n})$, with $x_{n} \in X$, $x_n\neq a$, which satisfies \$ \lim_{n\rightarrow\infty} x_{n} = a\$, we have $\lim_{n\rightarrow\infty} f(x_{n}) = \infty$, i.e. the sequence of real numbers $(f(x_{n}))$ diverges to infinity. The notion of *divergence to minus infinity* is defined similarly, and in that case we write $\lim_{x\rightarrow a} f(x) = -\infty$. For an example of divergence to infinity, consider e.g. $\lim_{x \rightarrow 0}\frac{1}{x^2}$. The details are left to you.


If convergence fails for a function $f:X\to\mathbb{R}$ at a point $a\in\mathbb{R}$, it may be that a weaker notion of convergence still applies, in which the direction of approach is restricted to one side at a time.

\begin{mydef}
Let $f:X\to\mathbb{R}$ and let $a\in\mathbb{R}$ be a limit point of $X$. We say that $f$ has *left limit* $l$ at a point $a\in\mathbb{R}$, and write
$$
\lim_{x\rightarrow a^-}f(x) = l
$$
if for all $\varepsilon>0$ there exists a $\delta>0$ such that $|f(x)-l|<\varepsilon$ whenever $0<x-a<\delta$.

We say $f$ has a *right limit* $l$ at $a$, and write,

$$
\lim_{x\rightarrow a^+}f(x) = l
$$

if for all $\varepsilon>0$ there exists a $\delta>0$ such that $|f(x)-l|<\varepsilon$ whenever $\delta<x-a<0$.
\end{mydef}

Equivalently, in terms of sequences,

- $\lim_{x\rightarrow a^-}f(x) = l$ if for any sequence $(x_n)$ in $X$ for which $x_n<a$ for all $n\in\mathbb{N}$ and $\lim_{n\rightarrow\infty}=a$, we have $\lim_{n\rightarrow\infty}f(x_n)=l$, for some $l\in\mathbb{R}$.
- $\lim_{x\rightarrow a^+}f(x) = l$ if for any sequence $(x_n)$ in $X$ for which $x_n>a$ for all $n\in\mathbb{N}$ and $\lim_{n\rightarrow\infty}=a$, we have $\lim_{n\rightarrow\infty}f(x_n)=l$, for some $l\in\mathbb{R}$.

The proof that these definitions are equivalent is very similar to that of Theorem [2](#ed), and is left to you to do as an exercise.

$$
\begin{eg}
Heaviside's indicator function, $\textbf{1}_{[0,\infty)}$, as defined in Example~\ref{indicatorfn}, has both left and right limits at the point $0$: one can check that $\lim_{x\rightarrow 0^-}=0$ and $\lim_{x\rightarrow 0^+}=1$. Since these limits disagree, there is no well-defined limit for this function at this point. 
\end{eg}
$$

We also meet functions that diverge in different ways when approached from the left and from the right of a given point.

\begin{eg}
Consider $f: \mathbb{R} \setminus \{0\}\to \mathbb{R}$ given by $f(x) = \frac{1}{x}$. Then it is easily verified that $\lim_{x \rightarrow 0^-}f(x) = - \infty$, and $\lim_{x \rightarrow 0^+}f(x) =  \infty$.

\iflatexml
![](figs/1,x)
\else
$$
\begin{tikzpicture}[thick]
\begin{axis}[width=.9*\textwidth, xlabel=$x$, ylabel=$y$, unit vector ratio*=1 1 1, xmin=-6.9, xmax=6.9, ymin=-6.9, ymax=6.9, axis lines=middle, tick align=outside, samples=1000,thick]
\addplot[domain=-10:-.01,no marks,blu] {1/x};
\addplot[domain=.01:10,no marks,blu] {1/x};
\end{axis}
\end{tikzpicture}
$$
\fi
Figure 2: Graph of $f(x) = \displaystyle\frac{1}{x}$

\end{eg}
------------------


[0;36m  Cell [0;32mIn[1], line 2[0;36m[0m
[0;31m    Figure 1: Graph of $f(x) = \displaystyle\frac{x - 5}{(x^{2} - 25)(x - 3)}$[0m
[0m           ^[0m
[0;31mSyntaxError[0m[0;31m:[0m invalid syntax


